---
collections:
    devices:
        xml_name: 'devices'
        media_type: 'application/vnd.net.juniper.space.device-management.devices+xml;version=1;charset=UTF-8'
        url: '/api/space/device-management/devices'
        resource_type: 'device_management.device'

resources:
    device:
        xml_name: 'device'
        media_type: 'application/vnd.net.juniper.space.device-management.device+xml;version=1;charset=UTF-8'
        collection_name: 'devices'
        service_url: '/api/space/device-management'
        collections:
            view_associated_scripts:
                name: 'view-associated-scripts'
                xml_name: 'script-device-associatons'
                media_type: 'application/vnd.net.juniper.space.device-management.view-associated-scripts+xml;version=2'
            change_requests:
                name: 'change-requests'
                xml_name: 'change-requests'
                media_type: 'application/vnd.net.juniper.space.configuration-management.change-requests-ref+xml;version=1'
            configurations:
                name: 'configurations'
                xml_name: 'configurations'
                media_type: 'application/vnd.net.juniper.space.device-management.configurations+xml;version=1'
                named_members:
                    raw:
                        xml_name: 'raw-configuration'
                        resource_type: 'device_management.raw_config'
                    expanded:
                        xml_name: 'expanded-configuration'
                        resource_type: 'device_management.expanded_config'

        methods:
            exec_rpc_v1:
                name: 'exec-rpc'
                request_type: 'application/vnd.net.juniper.space.device-management.rpc+xml;version=1;charset=UTF-8'
                request_template: 'rpc.tpl'
                response_type: 'application/vnd.net.juniper.space.device-management.rpc+xml;version=1'
            exec_rpc_v3:
                name: 'exec-rpc'
                request_type: 'application/vnd.net.juniper.space.device-management.rpc+xml;version=3;charset=UTF-8'
                request_template: 'rpc.tpl'
                response_type: 'application/vnd.net.juniper.space.device-management.rpc+xml;version=3'
            exec_resync:
                name: 'exec-resync'
                response_type: 'application/vnd.net.juniper.space.device-management.exec-resync+xml;version=1'
            apply_cli_configlet:
                name: 'apply-cli-configlet'
                request_type: 'application/vnd.net.juniper.space.device-management.apply-cli-configlet+xml;version=2;charset=UTF-8'
                request_template: 'apply_cli_configlet.tpl'

    raw_config:
        xml_name: 'raw-configuration'
        media_type: 'application/vnd.net.juniper.space.device-management.raw-configuration+xml;q=".02";version="3"'
        collection_name: 'configurations'
        service_url: '/api/space/device-management'
        request_type: 'application/vnd.net.juniper.space.device-management.xpath+xml;version=1;charset=UTF-8'
        request_template: 'config_xpath_post.tpl'
        response_type: 'application/vnd.net.juniper.space.device-management.raw-configuration+xml;q=".01";version="1"'

    expanded_config:
        xml_name: 'expanded-configuration'
        media_type: 'application/vnd.net.juniper.space.device-management.expanded-configuration+xml;q=".02";version="3"'
        collection_name: 'configurations'
        service_url: '/api/space/device-management'
        request_type: 'application/vnd.net.juniper.space.device-management.xpath+xml;version=1;charset=UTF-8'
        request_template: 'config_xpath_post.tpl'
        response_type: 'application/vnd.net.juniper.space.device-management.expanded-configuration+xml;q=".01";version="1"'

methods:
...